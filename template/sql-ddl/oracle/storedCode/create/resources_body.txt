CREATE OR REPLACE PACKAGE BODY resources IS


PROCEDURE raise_column_error (pi_table_name IN VARCHAR2,
    pi_column_name IN VARCHAR2,
    pi_no_error IN PLS_INTEGER,
    pi_mess_error IN VARCHAR2) IS

    BEGIN
        raise_application_error(-20001, 'Erreur MVC-CD sur la colonne : ' + pi_table_name  + '.' + pi_column_name +
        ' - ' + + co_marker_noerr + pi_no_error + co_marker_noerr +pi_mess_error);
    END;


PROCEDURE check_datatype_error (pi_table_name IN VARCHAR2,
    pi_column_name IN VARCHAR2,
    pi_value IN VARCHAR2,
    pi_datatype_name IN VARCHAR2) IS

    vl_message_error VARCHAR2(1000);
    BEGIN
        vl_message_error := 'La valeur ' + pi_value + ' ne respecte pas le type ' + pi_datatype_name;
        --raise_column_error(pi_table_name, pi_column_name, co_datatype_noerr, vl_message_error);
    END;

PROCEDURE check_normalized_string(pi_table_name IN VARCHAR2,
    pi_column_name IN VARCHAR2,
    pi_value IN VARCHAR2,
    pi_datatype_name IN VARCHAR2)  IS


    BEGIN
        IF (INSTR( pi_value , CHR(9)) > 0) OR
            (INSTR( pi_value , CHR(10)) > 0) OR
            (INSTR( pi_value, CHR(13)) > 0) THEN
                check_datatype_error(pi_table_name, pi_column_name, pi_value, pi_datatype_name);
        END IF;
    END;


BEGIN
	NULL;
END;